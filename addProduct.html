<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product</title>
    <link rel="stylesheet" href="./css/style,.css">
<style>
    html, body{
        width:100vw;
        height:100vh;
    }
    *{
        margin:0;
        padding:0;
        box-sizing: border-box;
    }
    #contaner{
        width:98%;
        height:98%;
        padding:2%;
        border:1px solid red;
        margin: 0 auto;
        overflow:auto;
    }
    form{
        height:100%;
    }
    fieldset{
        height:100%;
    }
    /* img contaner seting */
    #imgPreConter *{
        border:1px solid red;
    }
    #imgPreviewBox{
        width: 100%;
        height:70%;
        margin:2%;
        overflow:auto;
        object-fit: contain;
    }
    #imgPreviewBox img{
        width:100%;
        height:100%;
    }
    #ImgGrid{
        width:100%;
        height:30%;
    }
    /* flex setting */
    /* flex for contaner start */
    #contaner{
        display:flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-evenly;
    }
    form{
       flex:0 0 48%;
    }
    #imgPreConter{
       flex:0 0 48%;
    }
    /* flex for contaner start */
    /* flex for img contaner start*/
    
    #imgPreConter{
        display:flex;
        flex-direction: column;
    }
    #ImgGrid{
        flex:0 0 70%;
    }
    imgPreviewBox{
        flex:0 0 30%;
    }
    /* flex for img contaner end*/
    /* flex for img grid start*/
    #ImgGrid{
        display:flex;
        flex-direction: row;
    }
    #ImgGrid div{
        flex:;
    }
    /* flex for img grid end*/
</style>
</head>
<body>
    <div id="contaner">
        <form action="./php/main.php" method="post">
        <fieldset>
            <legend>Add data</legend>
            <span>
                <label for="addImg">Add Image</label>
                <input type="file" name="addImg" id="addImg" multiple>
            </span>
            <br>
            <span>
                <label for="BrandName">Brand Name :&nbsp;</label>
                <select name="BrandName" id="">
                    <optgroup label="no Brand">
                        <option value="no Brand" selected>no Brand</option>
                    </optgroup>
                    <optgroup label="Milk Product">
                        <option value="Amul">Amul</option>
                        <option value="MotherDairy">Mother dairy</option>
                    </optgroup>
                    <optgroup label="Vegidi">
                        <option value="safal">safal</option>
                    </optgroup>
                   
                </select>
            </span>
            <span>
                <label for="Name">Product Name :&nbsp</label>
                <input type="text" name="Name" id="" placeholder="Add product name">
            </span>
            <br>
            <span>
                <label for="MRP">MRP :&nbsp</label>
                <input type="number" min="1" name="MRP" id="" placeholder="MRP">
            </span>
            <br>
            <span>
                <label for="FinalPrice">Final Price :&nbsp</label>
                <input type="number" min="1" name="FinalPrice" id="" placeholder="Final price"><br>
            </span>
            <span>
                <label for="Discount">Discount :&nbsp</label>
                <input type="number" min="0" name="Discount" placeholder="Discount">
            </span>
            <br>
            <span>
                <label for="Catagary">Catagery :&nbsp</label>
                <select name="Catagary" id="Catagary">
                    <option value="Fruts">Fruts</option>
                    <option value="Vegitable">vagitable</option>
                </select>
            </span>
            <br>
            <span>
                <label for="Discripsion" style="margin-bottom:3%;">Discripction :&nbsp</label><br>
                <textarea name="Discripsion" id="dis" placeholder="Add product discription" required></textarea><br>
            </span>
            
            <span class="btns">
                <button type="submit">Add Data</button>
                <button type="reset">Reset</button>
            </span>
        </fieldset>
        </form>
        <!-- imgPreConter is main img contener -->
        <div id="imgPreConter"> 
            <!-- imgPreviewBox only show one image at a time as select in imgGrid -->
            <div id="imgPreviewBox">
                <img src="./img/no_Imgae.svg" alt="imagePrivew" id="imgPreview"><br>
            </div>
            <div id="ImgGrid">
                <!-- here show all imgae , its div and img tag genrtae by js for n number of image -->
                <div><img src="./img/no_Imgae.svg" alt="img1"></div>
                <div><img src="./img/no_Imgae.svg" alt="img2"></div>
                <div><img src="./img/no_Imgae.svg" alt="img3"></div>
                <div><img src="./img/no_Imgae.svg" alt="img4"></div>
                <div><img src="./img/no_Imgae.svg" alt="img5"></div>
            </div>
        </div>
    </div>
<script>
    document.getElementById("addImg").addEventListener("change", function (event) {
    let imgPreview = document.getElementById("imgPreview");
    let imgGrid = document.getElementById("ImgGrid");

    // पहले से मौजूद ग्रिड को क्लियर करें (अगर आप नई इमेज जोड़ने पर पुरानी हटाना चाहते हैं)
    imgGrid.innerHTML = "";

    // फाइल सेलेक्ट करने पर
    if (event.target.files.length > 0) {
        let fileList = event.target.files;

        for (let i = 0; i < fileList.length; i++) {
            let file = fileList[i];
            let reader = new FileReader();

            reader.onload = function (e) {
                // प्रीव्यू बॉक्स में पहली इमेज दिखाएं
                if (i === 0) {
                    imgPreview.src = e.target.result;
                }

                // इमेज ग्रिड में इमेज ऐड करें
                let imgDiv = document.createElement("div");
                let imgTag = document.createElement("img");
                imgTag.src = e.target.result;
                imgTag.alt = "Uploaded Image " + (i + 1);
                imgTag.onclick = function () {
                    imgPreview.src = this.src; // ग्रिड से क्लिक करने पर बड़ी इमेज बदले
                };

                imgDiv.appendChild(imgTag);
                imgGrid.appendChild(imgDiv);
            };

            reader.readAsDataURL(file);
        }
    }
});

</script>

<?php include './php/main.php'; ?>
</body>
</html>